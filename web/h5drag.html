<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        body{
            margin:0;
            position: relative;
        }
        img{
            position:absolute;
        }
    </style>

    <script type="text/javascript">
        
        function οndragstart(e)
        {
            console.log('事件源p3开始拖动');
            //记录刚一拖动时，鼠标在飞机上的偏移量
            offsetX= e.offsetX;
            offsetY= e.offsetY;
        }

        function οndrag(e)
        {
            console.log('事件源p3拖动中');
            var x= e.pageX;
            var y= e.pageY;
            console.log(x+'-'+y);
            //drag事件最后一刻，无法读取鼠标的坐标，pageX和pageY都变为0
            if(x==0 && y==0){
                return; //不处理拖动最后一刻X和Y都为0的情形
            }
            x-=offsetX;
            y-=offsetY;
    
            p3.style.left=x+'px';
            p3.style.top=y+'px';
        }

        function οndragend(e)
        {
            console.log('源对象p3拖动结束');
        }
    </script>
</head>
<body>
<h3>随着鼠标拖动而移动的小飞机</h3>
<img id="p3" src="img/warning.png" draggable="true" ondragstart="οndragstart(event)" ondrag="οndrag(event)" ondragend="οndragend(event)" alt=""/>

</body>
</html>